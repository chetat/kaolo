[{"state":{"code":"sequenceDiagram\n    participant User\n    participant OnlineBookstore\n\n    User->>OnlineBookstore: Visit & Browse\n    OnlineBookstore-->>User: Display Books\n    User->>OnlineBookstore: Search\n    OnlineBookstore-->>User: Return Search Results\n    User->>OnlineBookstore: Select & Add to Cart\n    OnlineBookstore-->>User: Update Cart\n    User->>OnlineBookstore: Initiate Checkout\n    OnlineBookstore-->>User: Request Authentication\n    User->>OnlineBookstore: Provide Authentication Details\n    OnlineBookstore-->>User: Request Delivery Address\n    User->>OnlineBookstore: Provide Delivery Address\n    OnlineBookstore-->>User: Request Payment Method\n    User->>OnlineBookstore: Provide Payment Method\n    User->>OnlineBookstore: Confirm Payment\n    OnlineBookstore-->>User: Send Order Confirmation Email\n    User->>OnlineBookstore: Check Order Status\n    OnlineBookstore-->>User: Display Order Status\n    OnlineBookstore-->>User: Delivery & Request Feedback\n    User->>OnlineBookstore: Provide Feedback\n%% sequenceDiagram\n%%     participant U as User\n%%     participant SA as SupersetApp\n%%     participant DB as DynamoDB\n%%     participant CA as CognitoAuthorizer\n%%     participant MA as MeterAuthApp\n%%     participant UAI as UtilityAPI\n%%     participant FLA as FlaskApp\n%%     participant FAP as FastAPILambda\n%%     participant S3 as AWSS3Bucket\n\n%%     U->>SA: User connects to Superset App\n%%     alt First-time User\n%%         SA->>CA: Superset redirects to Cognito for registration\n%%         CA->>SA: Cognito authorizes user to access Superset dashboard\n%%         SA->>DB: Superset checks if user has authorized meters in DynamoDB\n%%         SA->>MA: Superset redirects user to MeterAuthorization App\n%%         MA->>UAI: User selects a meter to authorize and is redirected to Utility API auth page\n%%         UAI->>MA: Utility API returns authorized meters object to MeterAuth App\n%%         MA->>FLA: MeterAuth App sends authorized meters data to Flask App\n%%         FLA->>DB: Flask App saves authorized user meters to DynamoDB\n%%         MA->>UAI: Meter Auth App activates returned meters (historical collection endpoint)\n%%         UAI->>FAP: Utility API sends historical collection events to FastAPI Lambda's respective endpoint\n%%         SA->>U: User has access to superset\n%%         FAP->>S3: FastAPI Lambda processes and stores JSON data in the S3 Bucket\n%%     else Returning User\n%%         SA->>CA: Superset redirects to Cognito for authentication\n%%         CA->>SA: Cognito authorizes user to access Superset dashboard\n%%         SA->>U: User has access to superset\n%%     end\n","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":false,"updateDiagram":false,"updateEditor":true,"panZoom":false,"pan":{"x":23.767732752277677,"y":303.3017724883803},"zoom":1.1348470449447632,"editorMode":"code"},"time":1684400894778,"type":"manual","id":"c6acedb3-b9a8-41c4-bd55-28174a54646b","name":"brave-van"},{"state":{"code":"sequenceDiagram\n    participant U as User\n    participant SA as SupersetApp\n    participant DB as DynamoDB\n    participant CA as CognitoAuthorizer\n    participant MA as MeterAuthApp\n    participant UAI as UtilityAPI\n    participant FLA as FlaskApp\n    participant FAP as FastAPILambda\n    participant S3 as AWSS3Bucket\n\n    U->>SA: User connects to Superset App\n    alt First-time User\n        SA->>CA: Superset redirects to Cognito for registration\n        CA->>SA: Cognito authorizes user to access Superset dashboard\n        SA->>DB: Superset checks if user has authorized meters in DynamoDB\n        SA->>MA: Superset redirects user to MeterAuthorization App\n        MA->>UAI: User selects a meter to authorize and is redirected to Utility API auth page\n        UAI->>MA: Utility API returns authorized meters object to MeterAuth App\n        MA->>FLA: MeterAuth App sends authorized meters data to Flask App\n        FLA->>DB: Flask App saves authorized user meters to DynamoDB\n        MA->>UAI: Meter Auth App activates returned meters (historical collection endpoint)\n        UAI->>FAP: Utility API sends historical collection events to FastAPI Lambda's respective endpoint\n        SA->>U: User has access to superset\n        FAP->>S3: FastAPI Lambda processes and stores JSON data in the S3 Bucket\n    else Returning User\n        SA->>CA: Superset redirects to Cognito for authentication\n        CA->>SA: Cognito authorizes user to access Superset dashboard\n        SA->>U: User has access to superset\n    end\n","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":true,"panZoom":true,"pan":{"x":23.767732752277677,"y":303.3017724883803},"zoom":1.1348470992228565,"editorMode":"code"},"time":1683357488370,"type":"manual","id":"37f9ae5c-7b99-4007-be9e-d12f95f085ce","name":"green-vr"}]